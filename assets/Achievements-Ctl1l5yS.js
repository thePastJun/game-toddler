import{d as B,r as m,a as i,h as n,n as g,b as e,k as y,e as o,t as v,i as F,o as I,c as d,u as L,g as z,w as p,F as w,l as A,m as C}from"./index-0QoEF3s7.js";import{u as D}from"./achievement-D9YBSsia.js";import{P as N}from"./ProgressBar-DmpSqC7P.js";import{_ as x}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./game-bk-vSkgf.js";const E={class:"achievement-icon"},T={class:"achievement-content"},U={class:"achievement-title"},j={class:"achievement-description"},q={key:0,class:"achievement-progress"},G={key:0,class:"achievement-reward"},H=B({__name:"AchievementCard",props:{achievement:{},isNew:{type:Boolean,default:!1}},setup(M){return(t,c)=>{const r=m("van-icon");return n(),i("div",{class:g(["achievement-card",{"achievement-unlocked":t.achievement.unlocked}])},[e("div",E,[o(r,{name:t.achievement.icon,class:g({"bounce-animation":t.achievement.unlocked&&t.isNew})},null,8,["name","class"])]),e("div",T,[e("div",U,v(t.achievement.title),1),e("div",j,v(t.achievement.description),1),t.achievement.progressMax>0?(n(),i("div",q,[o(N,{"current-value":t.achievement.progress,"max-value":t.achievement.progressMax,"show-percentage":""},null,8,["current-value","max-value"])])):y("",!0)]),t.achievement.unlocked?(n(),i("div",G,[o(r,{name:"gift-o",class:"pulse-animation"}),e("span",null,v(t.achievement.reward),1)])):y("",!0)],2)}}}),$=x(H,[["__scopeId","data-v-3de05baf"]]),J={class:"achievements-container"},K={class:"achievements-stats"},O={class:"stat-box"},Q={class:"stat-value"},W={class:"stat-box"},X={class:"stat-value"},Y={class:"stat-box"},Z={class:"stat-value"},ee={class:"progress-section"},te={class:"filter-bar"},se={class:"achievements-list"},ae={key:0,class:"empty-state"},ne={class:"achievements-list"},oe={key:0,class:"empty-state"},ie=B({__name:"Achievements",setup(M){const t=z(),c=D(),r=F(0);I(()=>{c.initAchievements(),c.updateAchievements()});const u=d(()=>c.achievements.length),_=d(()=>c.achievements.filter(l=>l.unlocked)),f=d(()=>c.achievements.filter(l=>!l.unlocked)),h=d(()=>_.value.length),P=d(()=>u.value===0?0:Math.round(h.value/u.value*100)),R=l=>{c.markAchievementAsRead(l)};return(l,s)=>{const S=m("van-nav-bar"),k=m("van-empty"),b=m("van-tab"),V=m("van-tabs");return n(),i("div",J,[o(S,{title:"我的成就","left-text":"返回","left-arrow":"",onClickLeft:s[0]||(s[0]=a=>L(t).push("/profile"))}),e("div",K,[e("div",O,[e("div",Q,v(h.value),1),s[2]||(s[2]=e("div",{class:"stat-label"},"已解锁",-1))]),e("div",W,[e("div",X,v(u.value),1),s[3]||(s[3]=e("div",{class:"stat-label"},"总成就",-1))]),e("div",Y,[e("div",Z,v(P.value)+"%",1),s[4]||(s[4]=e("div",{class:"stat-label"},"完成度",-1))])]),e("div",ee,[o(N,{"current-value":h.value,"max-value":u.value,label:"成就进度","show-percentage":""},null,8,["current-value","max-value"])]),e("div",te,[o(V,{active:r.value,"onUpdate:active":s[1]||(s[1]=a=>r.value=a),animated:"",swipeable:""},{default:p(()=>[o(b,{title:"已解锁"},{default:p(()=>[e("div",se,[_.value.length===0?(n(),i("div",ae,[o(k,{description:"暂无已解锁成就"})])):(n(!0),i(w,{key:1},A(_.value,a=>(n(),C($,{key:a.id,achievement:a,"is-new":a.isNew,onClick:ce=>R(a.id)},null,8,["achievement","is-new","onClick"]))),128))])]),_:1}),o(b,{title:"未解锁"},{default:p(()=>[e("div",ne,[f.value.length===0?(n(),i("div",oe,[o(k,{description:"暂无未解锁成就"})])):(n(!0),i(w,{key:1},A(f.value,a=>(n(),C($,{key:a.id,achievement:a},null,8,["achievement"]))),128))])]),_:1})]),_:1},8,["active"])])])}}}),ue=x(ie,[["__scopeId","data-v-0ffd8e1a"]]);export{ue as default};
