import{d as S,l as f,k as u,s as U,c as h,a as l,J as s,u as E,K as F,r as d,w as P,N as b,E as D,L as J,F as K,M as R,o as c,b as $}from"./vue.BvTOQNwI.js";import{u as j,P as q}from"./ProgressBar.Smnf-aHg.js";import{s as x,W as z}from"./WordCard.D7wBr9yD.js";import{s as y}from"./function-call.lxd2BDyU.js";import{_ as A}from"./_plugin-vue_export-helper.DlAUqK2U.js";import"./index.aZAk3Jmv.js";const G={class:"words-container"},H={class:"filter-bar"},Q={class:"words-stats"},X={class:"stat-box"},Y={class:"stat-value"},Z={class:"stat-box"},I={class:"stat-value"},ee={class:"stat-box"},te={class:"stat-value"},se={class:"progress-section"},oe={class:"learning-tip"},ae={class:"words-list"},ne={key:0,class:"empty-state"},le=S({__name:"Words",setup(re){const W=F(),o=j(),i=f(""),v=f("all"),m=f("default"),g=[{text:"全部单词",value:"all"},{text:"已学习",value:"learned"},{text:"已掌握",value:"mastered"},{text:"未掌握",value:"not-mastered"}],k=[{text:"默认排序",value:"default"},{text:"字母顺序",value:"alphabet"},{text:"难度排序",value:"difficulty"}],p=u(()=>o.words.length),V=u(()=>o.learnedWords.length),_=u(()=>o.masteredWords.length),w=u(()=>{let t=[...o.words];if(i.value){const e=i.value.toLowerCase();t=t.filter(a=>a.english.toLowerCase().includes(e)||a.chinese.includes(i.value))}switch(v.value){case"learned":t=t.filter(e=>o.learnedWords.includes(e.id));break;case"mastered":t=t.filter(e=>o.masteredWords.includes(e.id));break;case"not-mastered":t=t.filter(e=>!o.masteredWords.includes(e.id));break}switch(m.value){case"alphabet":t.sort((a,r)=>a.english.localeCompare(r.english));break;case"difficulty":const e={easy:1,medium:2,hard:3};t.sort((a,r)=>e[a.difficulty]-e[r.difficulty]);break}return t});U(()=>{o.initWords(),x({type:"primary",message:"点击单词卡片可以查看详细信息",duration:3e3})});const C=t=>{const e=o.learnedWords.includes(t);o.learnWord(t),y(e?"已取消学习标记":"已标记为学习")},L=t=>{const e=o.words.find(r=>r.id===t),a=(e==null?void 0:e.isMastered)||!1;o.masterWord(t),y(a?"已取消掌握标记":"已标记为掌握"),!a&&_.value===p.value&&x({type:"success",message:"恭喜你！已掌握所有单词！",duration:3e3})};return(t,e)=>{const a=d("van-nav-bar"),r=d("van-dropdown-item"),N=d("van-dropdown-menu"),B=d("van-search"),M=d("van-icon"),T=d("van-empty"),O=d("van-back-top");return c(),h("div",G,[l(a,{title:"单词学习","left-text":"返回","left-arrow":"",onClickLeft:e[0]||(e[0]=n=>E(W).push("/"))}),s("div",H,[l(N,null,{default:P(()=>[l(r,{modelValue:v.value,"onUpdate:modelValue":e[1]||(e[1]=n=>v.value=n),options:g},null,8,["modelValue"]),l(r,{modelValue:m.value,"onUpdate:modelValue":e[2]||(e[2]=n=>m.value=n),options:k},null,8,["modelValue"])]),_:1}),l(B,{modelValue:i.value,"onUpdate:modelValue":e[3]||(e[3]=n=>i.value=n),placeholder:"搜索单词",shape:"round"},null,8,["modelValue"])]),s("div",Q,[s("div",X,[s("div",Y,b(p.value),1),e[4]||(e[4]=s("div",{class:"stat-label"},"总单词",-1))]),s("div",Z,[s("div",I,b(V.value),1),e[5]||(e[5]=s("div",{class:"stat-label"},"已学习",-1))]),s("div",ee,[s("div",te,b(_.value),1),e[6]||(e[6]=s("div",{class:"stat-label"},"已掌握",-1))])]),s("div",se,[l(q,{"current-value":_.value,"max-value":p.value,label:"掌握进度","show-percentage":""},null,8,["current-value","max-value"])]),s("div",oe,[l(M,{name:"volume-o"}),e[7]||(e[7]=D(" 点击单词卡片可以听发音哦！ "))]),s("div",ae,[w.value.length===0?(c(),h("div",ne,[l(T,{description:"没有找到匹配的单词"})])):J("",!0),(c(!0),h(K,null,R(w.value,n=>(c(),$(z,{key:n.id,word:n,"show-chinese":"","show-actions":"","show-image":"",onLearn:C,onMaster:L},null,8,["word"]))),128))]),l(O,{right:"16",bottom:"16"})])}}}),pe=A(le,[["__scopeId","data-v-cad029ff"]]);export{pe as default};
